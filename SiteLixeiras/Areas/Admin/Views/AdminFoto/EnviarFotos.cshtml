@model Produtos

@{
    ViewData["Title"] = "Enviar Fotos";
}
@if (ViewData["MensagemSucesso"] != null)
{
    <div class="alert alert-success mt-3">
        @ViewData["MensagemSucesso"]
        <br />
        <a href="@ViewData["LinkImagem"]" target="_blank">Ver imagem enviada</a>
    </div>
}

@if (!ViewData.ModelState.IsValid)
{
    <div class="alert alert-danger mt-3">
        @Html.ValidationSummary(false)
    </div>
}

<h2>Enviar Fotos</h2>

<form id="fotoForm" asp-action="EnviarFotos" method="post" enctype="multipart/form-data">
    <div class="form-group">
        <label for="Id_Produto">Selecione o Produto</label>
        @Html.DropDownList("Id_Produto", (SelectList)ViewData["ListaProdutos"], "Selecione um Produto", new { @class = "form-control", id = "Id_Produto" })
    </div>

    <div class="form-group">
        <label for="foto">Selecione uma imagem</label>
        <input type="file" class="form-control-file" id="foto" name="file" accept="image/*" required />
    </div>

    <div class="form-check">
        <input type="checkbox" class="form-check-input" id="DefinirComoCapa" name="DefinirComoCapa" value="true" />
        <label class="form-check-label" for="DefinirComoCapa">Definir como capa do produto</label>
    </div>

    <div id="mensagemErro" class="alert alert-danger mt-3" style="display: none;"></div>

    <button type="submit" class="btn btn-primary mt-3">Enviar</button>
</form>


<a asp-area="Admin" asp-controller="AdminFoto" asp-action="Index" class="btn btn-secondary"> Voltar</a>
